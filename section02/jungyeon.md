
# Section 2. 웹 서버와 서블릿 컨테이너
##  0. 웹 서버와 스프링 부트 소개
-	전통적인 방식
먼저 서버에 톰캣 같은 WAS(웹 애플리케이션 서버)를 설치했다.
 WAS에서 동작하도록 서블릿 스펙에 맞추어 코드를 작성하고 WAR 형식으로 빌드해서 war 파일을 만들었다. 
이렇게 만들어진 war 파일을 WAS에 전달해서 배포하는 방식으로 전체 개발 주기가 동작했다.
-	최근 방식
최근에는 스프링 부트가 내장 톰캣을 포함하고 있다. 
개발자는 main() 메서드만 실행하면 되고, WAS 설치나 IDE 같은 개발 환경에서 WAS 와 연동하는 복잡한 일은 수행하지 않아도 된다.
## 1. 톰캣 설치
자바 17 버전 또는 그 이상을 설치 
스프링 3.0을 사용하는데 자바 17이 최소 요구 버전입니다. 
톰캣 다운로드 https://tomcat.apache.org/download-10.cgi Download 메뉴에서 Apache Tomcat 10 버전의 톰캣 다운로드 Core에 있는 zip 을 선택 다운로드 후 압축 풀기 
다운로드 링크: https://dlcdn.apache.org/tomcat/tomcat-10/v10.0.27/bin/apache tomcat-10.0.27.zip
## 2. JAR, WAR 간단 비교
-	JAR 소개 
자바는 여러 클래스와 리소스를 묶어서 JAR (Java Archive)라고 하는 압축 파일을 만들 수 있다. 
이 파일은 JVM 위에서 직접 실행되거나 또는 다른 곳에서 사용하는 라이브러리로 제공된다. 
직접 실행하는 경우 main() 메서드가 필요하고, MANIFEST.MF 파일에 실행할 메인 메서드가 있는 클래스를 지정해두어야 한다. 
-	WAR 소개 
-	WAR 파일은 웹 애플리케이션 서버(WAS) 에 배포할 때 사용하는 파일이다. J
-	AR 파일이 JVM 위에서 실행된다면, WAR는 웹 애플리케이션 서버 위에서 실행된다. 웹 애플리케이션 서버 위에서 실행되고, HTML 같은 정적 리소스와 클래스 파일을 모두 함께 포함하기 때문에 JAR와 비교해서 구조가 더 복잡하다. 그리고 WAR 구조를 지켜야 한다.
## 3. 서블릿 컨테이너 초기화1
-	WAS를 실행하는 시점에 필요한 초기화 작업들이 있다. 
-	서비스에 필요한 필터와 서블릿을 등록하고, 여기에 스프링을 사용한다면 스프링 컨테이너를 만들고, 서블릿과 스프링을 연결하는 디스페처 서블릿도 등록해야 한다
-	WAS가 제공하는 초기화 기능을 사용하면, WAS 실행 시점에 이러한 초기화 과정을 진행할 수 있다. 
-	과거에는 web.xml 을 사용해서 초기화했지만, 지금은 서블릿 스펙에서 자바 코드를 사용한 초기화도 지원한다.
-	서블릿은 ServletContainerInitializer 라는 초기화 인터페이스를 제공한다. 이름 그대로 서블릿 컨테이너를 초기화 하는 기능을 제공한다. 
-	서블릿 컨테이너는 실행 시점에 초기화 메서드인 onStartup() 을 호출해준다. 여기서 애플리케이션에 필요한 기능들을 초기화 하거나 등록할 수 있다.
-	Set<Class> c : 조금 더 유연한 초기화를 기능을 제공한다. @HandlesTypes 애노테이션과 함께 사용한다. 이후에 코드로 설명한다. 
-	ServletContext ctx : 서블릿 컨테이너 자체의 기능을 제공한다. 이 객체를 통해 필터나 서블릿을 등록할 수 있다
## 4. 서블릿 컨테이너 초기화2
- 서블릿을 등록하는 2가지 방법 
- @WebServlet 애노테이션 : @WebServlet 을 사용하면 애노테이션 하나로 서블릿을 편리하게 등록할 수 있다.
- 프로그래밍 방식 : HelloServlet 서블릿을 서블릿 컨테이너에 직접 등록한다. HTTP로 /hello-servlet 를 호출하면 HelloServlet 서블릿이 실행된다.
## 5. 스프링 컨테이너 등록
-	1 스프링 컨테이너 만들기 
-	AnnotationConfigWebApplicationContext 가 바로 스프링 컨테이너이다. 
-	AnnotationConfigWebApplicationContext 부모를 따라가 보면 ApplicationContext 인터페이스를 확인할 수 있다. 
-	이 구현체는 이름 그대로 애노테이션 기반 설정과 웹 기능을 지원하는 스프링 컨테이너로 이해하면 된다. appContext.register(HelloConfig.class) 컨테이너에 스프링 설정을 추가한다
-	2 스프링MVC 컨트롤러를 스프링 컨테이너에 빈으로 등록하기
-	3 스프링MVC를 사용하는데 필요한 디스패처 서블릿을 서블릿 컨테이너 등록하기
